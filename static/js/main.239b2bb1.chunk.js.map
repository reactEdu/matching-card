{"version":3,"sources":["components/Td.js","components/Tr.js","components/Table.js","App.js","index.js"],"names":["Td","isEnd","dispatch","pass","onClass","cellData","rowIndex","cellIndex","onClickTd","useCallback","type","CLICK_CELL","row","cell","onClick","className","Tr","passData","rowData","clickedValue","Array","length","fill","map","td","i","key","Table","tableData","tr","initialState","shuffleCards","count","alphabetLen","result","choiceNumber","arr","str","String","fromCharCode","Math","floor","random","indexOf","push","tempF","CHOICE_OK","CHOICE_NO","CHECK_END","RESTART_GAME","reducer","state","action","bRow","bCell","aRow","aCell","App","fVal","useRef","fIdx","useReducer","mounted","useEffect","current","checkIsEnd","alert","br","bc","setTimeout","console","table","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.239b2bb1.chunk.js","sourcesContent":["import React, { useCallback } from 'react';\nimport { CLICK_CELL } from '../App';\n\nconst Td = ({isEnd, dispatch, pass, onClass, cellData, rowIndex, cellIndex}) => {\n  \n  const onClickTd = useCallback(() => {\n    // console.log(pass, rowIndex, cellIndex, cellData);\n    dispatch({type: CLICK_CELL, row: rowIndex, cell: cellIndex});\n  }, [cellData]);\n  return (\n    <div onClick={onClickTd} className={onClass} className={pass ? 'td pass' : 'td'} >\n      <p className={'ico_'+cellData}>{cellData}</p>\n      {/* {JSON.stringify(pass)} */}\n    </div>\n  );\n};\n\nexport default Td;","import React from 'react';\nimport Td from './Td';\n\nconst Tr = ({ isEnd, dispatch, passData, rowIndex, rowData, clickedValue }) => {\n  return (\n    <div className=\"tr\">\n    {Array(rowData.length).fill().map((td, i) => {\n      // console.log(passData[rowIndex][i])\n      // console.log(clickedValue[0], clickedValue[1] ,rowIndex,i)\n      return <Td onClass={clickedValue[0]===rowIndex && clickedValue[1]===i ? \"ON\" : \"OFF\"} \n      isEnd={isEnd} \n      pass={passData[rowIndex][i]} \n      dispatch={dispatch} \n      clickedValue={clickedValue} \n      key={rowIndex+\"\"+i} \n      rowIndex={rowIndex} \n      cellIndex={i} \n      cellData={rowData[i]} />\n      }\n    )}\n    </div>\n  );\n};\n\nexport default Tr;","import React from 'react';\nimport Tr from './Tr';\n\nconst Table = ({ isEnd, dispatch, tableData, clickedValue, passData }) => {\n\treturn (\n\t\t<div className=\"flex_table\">\n\t\t\t<div className=\"tbody\">\n\t\t\t\t{Array(tableData.length).fill().map((tr, i) => {\n\t\t\t\t\treturn <Tr isEnd={isEnd} dispatch={dispatch} passData={passData} clickedValue={clickedValue} key={\"r\"+i} rowIndex={i} rowData={tableData[i]} />\t\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Table;","import React, { useRef, useReducer, useCallback, useEffect } from 'react';\nimport Table from './components/Table';\nimport './App.scss';\n\nconst initialState = {\n  tableData: [\n    ...shuffleCards()\n  ],\n  passData: [\n    [false,false,false,false,],\n    [false,false,false,false,],\n    [false,false,false,false,],\n    [false,false,false,false,],\n  ],\n  clickedValue: [-1, -1], // 클릭한 셀의 값\n  isEnd: false,\n  count: 0,\n};\n\nlet newState = initialState;\n\n// 4가지 알파벳 랜덤배치\nfunction shuffleCards() {\n  const alphabetLen = 4;\n  let result = [];\n  function choiceNumber() {\n    let arr = [];\n    while (arr.length < 4) {\n      let str = String.fromCharCode(Math.floor(Math.random() * alphabetLen)+65);\n      if(arr.indexOf(str) === -1) arr.push(str)\n    }\n    return arr;\n  }\n  result = [choiceNumber(), choiceNumber(), choiceNumber(), choiceNumber()];\n\n  for (let i = 0; i < result.length; i++) {\n    const tempF = result[0][i];\n    result[0][i] = result[1][i];\n    result[1][i] = tempF;\n  }\n\n  // console.log(result);\n  return result;\n}\n\n// 끝났는지 확인\nfunction checkIsEnd(passData){\n  // console.log(\"passData\", passData)\n  let result = false;\n  // for (let i = 0; i < passData.length; i++) {\n  //   for (let j = 0; j < passData[i].length; j++) {\n  //     if(passData[i][j]===true) result = true;\n  //     else result = false;\n  //   }\n  // }\n  if(\n    passData[0].indexOf(false) === -1 \n    && passData[1].indexOf(false) === -1\n    && passData[2].indexOf(false) === -1\n  ) result = true;\n\n  return result;\n}\n\nexport const CLICK_CELL = 'CLICK_CELL';\nexport const CHOICE_OK = 'CHOICE_OK';\nexport const CHOICE_NO = 'CHOICE_NO';\nexport const CHECK_END = 'CHECK_END';\nexport const RESTART_GAME = 'RESTART_GAME';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case CLICK_CELL:\n      // console.log(\"CLICK_CELL\", action.row, action.cell)\n      return {\n        ...state,\n        clickedValue: [action.row, action.cell],\n        count: state.count+0.5,\n      }\n    case CHOICE_OK:\n      // console.log(\"CHOICE_OK\", action.bRow, action.bCell)\n      return {\n        ...state,\n        ...state.passData[action.bRow][action.bCell]=true,\n        ...state.passData[action.aRow][action.aCell]=true\n      }\n    case CHOICE_NO:\n      // console.log(\"CHOICE_NO\", action)\n      return {\n        ...state,\n        ...state.passData[action.bRow][action.bCell]=false,\n        ...state.passData[action.aRow][action.aCell]=false\n      }\n    case CHECK_END:\n      // console.log(\"CHECK_END\",  action.passData)\n      return {\n        ...state,\n        isEnd: true,\n      }\n    case RESTART_GAME:\n      // console.log(\"RESTART_GAME\",  state)\n      return {\n        tableData: [\n          ...shuffleCards()\n        ],\n        passData: [\n          [false,false,false,false,],\n          [false,false,false,false,],\n          [false,false,false,false,],\n          [false,false,false,false,],\n        ],\n        clickedValue: [-1, -1], // 클릭한 셀의 값\n        isEnd: false,\n        count: 0,\n      }\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  let fVal = useRef('');\n  let fIdx = useRef([]);\n\n  const [ state, dispatch ] = useReducer(reducer, initialState);\n  const { tableData, clickedValue, passData, isEnd } = state;\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    if(!mounted.current) mounted.current = true;\n    const [ row, cell ] = clickedValue;\n \n    // console.log(passData);\n    if(checkIsEnd(passData)) {\n      dispatch({type: CHECK_END});\n      alert(\"게임 끝났습니다\");\n      return;\n    }\n\n    if(row !== -1){\n      // console.log('['+row, cell+']', tableData[row][cell])\n      \n      if(fVal.current === '') {\n        fVal.current = tableData[row][cell];\n        fIdx.current = [row, cell];\n        return;\n      } else {\n        // console.log(\"idx \",fIdx.current, row, cell)\n        if(fIdx.current[0] === row && fIdx.current[1] === cell) {\n          alert(\"같은 칸 클릭했습니다.\")\n          fVal.current = [];\n          fVal.current = '';\n          return;\n        }\n\n        if(fVal.current === tableData[row][cell]) {\n          dispatch({ type: CHOICE_OK, bRow:fIdx.current[0], bCell:fIdx.current[1], aRow:row, aCell: cell});\n          // alert('맞췄다');\n          \n        } else {\n          let br = fIdx.current[0];\n          let bc = fIdx.current[1];\n          dispatch({ type: CHOICE_OK, bRow:br, bCell:bc, aRow:row, aCell: cell});\n          // alert('틀렸다');\n          setTimeout(()=>{\n            dispatch({ type: CHOICE_NO, bRow:br, bCell:bc, aRow:row, aCell: cell })\n          }, 900)\n          // console.log('틀렸다',fVal.current, fIdx.current[0], fIdx.current[1], row, cell);\n        }\n        fVal.current = '';\n        fIdx.current = [];\n        \n        return;\n      }\n\n    } else {\n      return;\n    }\n  }, [clickedValue, passData])\n\n  useEffect(() => {\n    // 게임 새로 할때만 콘솔 찍기\n    if(state.count === 0) console.table(state.tableData)\n  },[isEnd])\n\n  const onRestart = () => {\n    dispatch({ type: RESTART_GAME});\n  }\n\n  return (\n    <>\n    <Table isEnd={isEnd} tableData={tableData} passData={passData} dispatch={dispatch} clickedValue={state.clickedValue}/>\n    <p className=\"try_len\">시도 횟수: {Math.floor(state.count)}</p>\n    <pre>\n      {/* {JSON.stringify(state.tableData).replace(/\\],\\[/g, '],\\n[')}} */}\n    </pre>\n    {isEnd ? <button onClick={onRestart}>다시시작</button> : ''}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}